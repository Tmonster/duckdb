# name: test/sql/secrets/create_secret_hffs.test
# description: Test huggingface secrets
# group: [secrets]

statement ok
PRAGMA enable_verification;

require httpfs

statement ok
set allow_persistent_secrets=false;

<<<<<<< HEAD
=======
# Generic bearer token secret is now available, not actually used yet
statement ok
CREATE SECRET b1 (
	TYPE BEARER,
    TOKEN 'bla'
)

>>>>>>> 1a4d456d8b (Revert "remove tests I don't want to test")
# Manually setting token is simplest
statement ok
CREATE SECRET hf1 (
	TYPE HUGGINGFACE,
    TOKEN 'bla'
)

# Cache provider will automatically try to fetch the token from the cache
statement ok
CREATE SECRET hf2 (
	TYPE HUGGINGFACE,
    PROVIDER 'credential_chain'
)

query IIII
SELECT name, type, provider, scope FROM duckdb_secrets() order by name;
----
<<<<<<< HEAD
=======
b1	bearer	config	[]
>>>>>>> 1a4d456d8b (Revert "remove tests I don't want to test")
hf1	huggingface	config	[hf://]
hf2	huggingface	credential_chain	[hf://]

# name: test/optimizer/remove_unnecessary_projections.test
# description: Test regex to like Optimization Rules
# group: [optimizer]

statement ok
pragma disabled_optimizers='statistics_propagation,column_lifetime';

statement ok
create table t1 as select range%50 a from range(10000);

statement ok
create table t2 as select range b from range(100);

statement ok
create table t3 as select range c from range(10000);

statement ok
create table t4 as select range d from range(400);

query II
explain select * from (select * from t1, t2 where a = b) t_left, (select * from t3, t4 where c = d) t_right where a = d;
----
physical_plan	<!REGEX>:.*PROJECTION.*PROJECTION.*

statement ok
pragma explain_output='optimized_only';

query II
explain select a b from (select b a from (select a b from values (1), (2), (3) t(a)));
----
logical_opt	<!REGEX>:.*PROJECTION.*PROJECTION.*PROJECTION.*